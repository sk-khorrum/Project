<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sk Khorrum Project Hub | Premium Edition</title>
<meta name="description" content="Sk Khorrum Project Hub by Team DRT. Secure Apps, Entertainment, and Tools.">
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
<script>
tailwind.config = {
  darkMode: 'class',
  theme: {
    extend: {
      fontFamily: {
        display: ['Unbounded', 'sans-serif'],
        mono: ['JetBrains Mono', 'monospace'],
        body: ['Outfit', 'sans-serif'],
      },
      colors: {
        base: { 50: '#f5f3ff', 100: '#ede9fe', 900: '#070520', 950: '#030212' },
        mint: { DEFAULT: '#00ffa3', dark: '#00cc82' },
        coral: { DEFAULT: '#ff6b9d', dark: '#d4567f' },
        cyan: { DEFAULT: '#00c2ff', dark: '#009acc' },
        amber: { DEFAULT: '#ffaa40', dark: '#cc8833' },
        neon: { DEFAULT: '#a78bfa', dark: '#7c5cfc' },
      }
    }
  }
};
</script>
<style>
/* ===== BASE ===== */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --bg-deep: #030212;
  --bg-surface: #0a0825;
  --bg-card: rgba(12, 10, 40, 0.65);
  --bg-card-hover: rgba(18, 15, 55, 0.8);
  --text-primary: #eae8ff;
  --text-secondary: #9894b8;
  --text-muted: #5f5b7a;
  --border: rgba(255,255,255,0.06);
  --border-hover: rgba(167, 139, 250, 0.3);
  --glass: rgba(255,255,255,0.03);
  --shadow-lg: 0 20px 60px rgba(0,0,0,0.5);
  --cat-security: #00ffa3;
  --cat-entertainment: #ff6b9d;
  --cat-tools: #00c2ff;
  --cat-demo: #ffaa40;
}

html:not(.dark) {
  --bg-deep: #f8f6ff;
  --bg-surface: #eeeafc;
  --bg-card: rgba(255, 255, 255, 0.8);
  --bg-card-hover: rgba(255, 255, 255, 0.95);
  --text-primary: #1a1535;
  --text-secondary: #5f5b7a;
  --text-muted: #9894b8;
  --border: rgba(0,0,0,0.07);
  --border-hover: rgba(124, 92, 252, 0.3);
  --glass: rgba(255,255,255,0.6);
  --shadow-lg: 0 20px 60px rgba(0,0,0,0.08);
  --cat-security: #00b874;
  --cat-entertainment: #d4567f;
  --cat-tools: #0090b8;
  --cat-demo: #cc8833;
}

body {
  font-family: 'Outfit', sans-serif;
  background: var(--bg-deep);
  color: var(--text-primary);
  min-height: 100vh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

/* ===== LOADER ===== */
.loader-wrap {
  position: fixed; inset: 0; z-index: 10000;
  background: #030212;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  transition: opacity 0.7s ease, visibility 0.7s;
}
.loader-wrap.done { opacity: 0; visibility: hidden; pointer-events: none; }

.loader-brand {
  font-family: 'Unbounded', sans-serif;
  font-weight: 900;
  font-size: clamp(2rem, 6vw, 3.5rem);
  color: #fff;
  position: relative;
  letter-spacing: 2px;
}
.loader-brand .glitch {
  position: absolute; top: 0; left: 0;
  width: 100%; height: 100%;
  color: #00ffa3;
  clip-path: inset(0 0 0 0);
  animation: glitch1 2s infinite linear;
}
.loader-brand .glitch2 {
  color: #ff6b9d;
  animation: glitch2 2s infinite linear;
}
@keyframes glitch1 {
  0%, 100% { clip-path: inset(0 0 100% 0); }
  5% { clip-path: inset(20% 0 60% 0); transform: translateX(-3px); }
  10% { clip-path: inset(0 0 100% 0); }
  40% { clip-path: inset(60% 0 10% 0); transform: translateX(3px); }
  45% { clip-path: inset(0 0 100% 0); }
  70% { clip-path: inset(40% 0 30% 0); transform: translateX(-2px); }
  75% { clip-path: inset(0 0 100% 0); }
}
@keyframes glitch2 {
  0%, 100% { clip-path: inset(0 0 100% 0); }
  15% { clip-path: inset(50% 0 20% 0); transform: translateX(4px); }
  20% { clip-path: inset(0 0 100% 0); }
  55% { clip-path: inset(10% 0 70% 0); transform: translateX(-4px); }
  60% { clip-path: inset(0 0 100% 0); }
  85% { clip-path: inset(70% 0 5% 0); transform: translateX(2px); }
  90% { clip-path: inset(0 0 100% 0); }
}

.loader-dots {
  display: flex; gap: 8px; margin-top: 32px;
}
.loader-dot {
  width: 8px; height: 8px; border-radius: 50%;
  background: #a78bfa;
  animation: dotPulse 1.2s ease infinite;
}
.loader-dot:nth-child(2) { animation-delay: 0.2s; }
.loader-dot:nth-child(3) { animation-delay: 0.4s; }
.loader-dot:nth-child(4) { animation-delay: 0.6s; }
@keyframes dotPulse {
  0%, 80%, 100% { opacity: 0.2; transform: scale(0.8); }
  40% { opacity: 1; transform: scale(1.2); }
}

.loader-sub {
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  color: #5f5b7a;
  letter-spacing: 4px;
  text-transform: uppercase;
  margin-top: 20px;
}

/* ===== BACKGROUND ===== */
.bg-cosmos {
  position: fixed; inset: 0; z-index: 0;
  overflow: hidden; pointer-events: none;
}
.bg-cosmos .orb {
  position: absolute; border-radius: 50%;
  filter: blur(120px); opacity: 0.25;
  animation: orbDrift 25s ease-in-out infinite;
}
html:not(.dark) .bg-cosmos .orb { opacity: 0.08; }

.bg-cosmos .orb-1 {
  width: 600px; height: 600px;
  background: radial-gradient(circle, #7c5cfc, transparent 70%);
  top: -15%; right: -10%;
  animation-duration: 30s;
}
.bg-cosmos .orb-2 {
  width: 500px; height: 500px;
  background: radial-gradient(circle, #00ffa3, transparent 70%);
  bottom: -20%; left: -8%;
  animation-duration: 22s; animation-delay: -8s;
}
.bg-cosmos .orb-3 {
  width: 350px; height: 350px;
  background: radial-gradient(circle, #ff6b9d, transparent 70%);
  top: 50%; left: 40%;
  animation-duration: 28s; animation-delay: -14s;
}
@keyframes orbDrift {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(50px, -30px) scale(1.08); }
  50% { transform: translate(-40px, 50px) scale(0.95); }
  75% { transform: translate(30px, 20px) scale(1.03); }
}

/* Grid pattern overlay */
.bg-grid {
  position: fixed; inset: 0; z-index: 0;
  pointer-events: none;
  background-image:
    linear-gradient(rgba(167,139,250,0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(167,139,250,0.03) 1px, transparent 1px);
  background-size: 60px 60px;
}
html:not(.dark) .bg-grid {
  background-image:
    linear-gradient(rgba(124,92,252,0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(124,92,252,0.05) 1px, transparent 1px);
}

/* ===== NOISE ===== */
.noise-layer {
  position: fixed; inset: 0; z-index: 9998;
  pointer-events: none; opacity: 0.025;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-repeat: repeat; background-size: 150px;
}

/* ===== SCROLLBAR ===== */
::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(167,139,250,0.3); border-radius: 10px; }

/* ===== HEADER ===== */
.site-header {
  position: sticky; top: 0; z-index: 100;
  background: var(--glass);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border-bottom: 1px solid var(--border);
  padding: 16px 24px;
  transition: background 0.3s;
}
.site-header .logo {
  font-family: 'Unbounded', sans-serif;
  font-weight: 800;
  font-size: 1.15rem;
  letter-spacing: -0.5px;
}
.logo-accent {
  background: linear-gradient(135deg, #a78bfa, #00ffa3);
  -webkit-background-clip: text; background-clip: text;
  -webkit-text-fill-color: transparent;
}
.theme-btn {
  width: 40px; height: 40px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--glass);
  color: var(--text-secondary);
  display: flex; align-items: center; justify-content: center;
  font-size: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
}
.theme-btn:hover {
  border-color: var(--border-hover);
  color: var(--text-primary);
  background: var(--bg-card);
}

/* ===== HERO ===== */
.hero-section {
  text-align: center;
  padding: 56px 20px 20px;
}
.hero-tag {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 6px 18px;
  border-radius: 100px;
  background: var(--glass);
  border: 1px solid var(--border);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  color: var(--cat-security);
  letter-spacing: 3px;
  text-transform: uppercase;
  margin-bottom: 24px;
}
.hero-tag .pulse-dot {
  width: 6px; height: 6px; border-radius: 50%;
  background: var(--cat-security);
  animation: pulseDot 2s ease-in-out infinite;
}
@keyframes pulseDot {
  0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(0,255,163,0.4); }
  50% { opacity: 0.6; box-shadow: 0 0 0 6px rgba(0,255,163,0); }
}

.hero-title {
  font-family: 'Unbounded', sans-serif;
  font-size: clamp(2rem, 7vw, 3.6rem);
  font-weight: 900;
  line-height: 1.1;
  letter-spacing: -1px;
  margin-bottom: 16px;
}
.hero-gradient {
  background: linear-gradient(135deg, #a78bfa, #00ffa3, #ff6b9d);
  background-size: 300% 300%;
  -webkit-background-clip: text; background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: heroGrad 8s ease infinite;
}
@keyframes heroGrad {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}
.hero-sub {
  font-size: 1rem;
  color: var(--text-secondary);
  max-width: 480px;
  margin: 0 auto 32px;
  line-height: 1.65;
}

/* Stats */
.stats-bar {
  display: flex; justify-content: center; gap: 40px;
  flex-wrap: wrap;
  margin-bottom: 10px;
}
.stat-block { text-align: center; }
.stat-val {
  font-family: 'Unbounded', sans-serif;
  font-weight: 700;
  font-size: 1.5rem;
  background: linear-gradient(135deg, #a78bfa, #00c2ff);
  -webkit-background-clip: text; background-clip: text;
  -webkit-text-fill-color: transparent;
}
.stat-lbl {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-top: 2px;
}

/* ===== FILTERS ===== */
.filter-wrap {
  padding: 8px 20px 24px;
  display: flex; justify-content: center;
}
.filter-scroll {
  display: flex; gap: 8px;
  overflow-x: auto; padding: 4px 0 8px;
  scrollbar-width: none; -ms-overflow-style: none;
  flex-wrap: wrap; justify-content: center;
}
.filter-scroll::-webkit-scrollbar { display: none; }

.filter-pill {
  position: relative;
  padding: 10px 22px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--glass);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: var(--text-secondary);
  font-family: 'Outfit', sans-serif;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.35s cubic-bezier(0.4,0,0.2,1);
  white-space: nowrap;
  outline: none;
}
.filter-pill:hover {
  border-color: var(--border-hover);
  color: var(--text-primary);
  background: var(--bg-card);
}
.filter-pill.active {
  color: #fff;
  border-color: transparent;
  font-weight: 600;
}
.filter-pill.active[data-cat="all"] {
  background: linear-gradient(135deg, #a78bfa, #7c5cfc);
  box-shadow: 0 4px 20px rgba(124,92,252,0.35);
}
.filter-pill.active[data-cat="security"] {
  background: linear-gradient(135deg, #00ffa3, #00cc82);
  box-shadow: 0 4px 20px rgba(0,255,163,0.3);
  color: #052e1e;
}
.filter-pill.active[data-cat="entertainment"] {
  background: linear-gradient(135deg, #ff6b9d, #ff4080);
  box-shadow: 0 4px 20px rgba(255,107,157,0.3);
}
.filter-pill.active[data-cat="tools"] {
  background: linear-gradient(135deg, #00c2ff, #0090d0);
  box-shadow: 0 4px 20px rgba(0,194,255,0.3);
}
.filter-pill.active[data-cat="demo"] {
  background: linear-gradient(135deg, #ffaa40, #ff8c00);
  box-shadow: 0 4px 20px rgba(255,170,64,0.3);
  color: #3d2200;
}
html:not(.dark) .filter-pill.active[data-cat="security"] { color: #fff; background: linear-gradient(135deg, #00b874, #009960); }
html:not(.dark) .filter-pill.active[data-cat="demo"] { color: #fff; background: linear-gradient(135deg, #e89520, #cc8000); }

.pill-count {
  display: inline-flex; align-items: center; justify-content: center;
  min-width: 22px; height: 22px;
  border-radius: 11px;
  font-size: 11px; font-weight: 700;
  margin-left: 8px; padding: 0 7px;
  background: rgba(255,255,255,0.15);
}
.filter-pill:not(.active) .pill-count {
  background: var(--border);
}

/* ===== PROJECT GRID ===== */
.project-grid {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px 40px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
}
@media (max-width: 640px) {
  .project-grid { grid-template-columns: 1fr; }
}

/* ===== PROJECT CARD ===== */
.p-card {
  position: relative;
  border-radius: 22px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.4,0,0.2,1);
  opacity: 0;
  transform: translateY(40px);
}
.p-card.visible {
  animation: cardReveal 0.55s cubic-bezier(0.4,0,0.2,1) forwards;
}
.p-card.hiding {
  animation: cardHide 0.3s ease forwards;
}
@keyframes cardReveal {
  to { opacity: 1; transform: translateY(0); }
}
@keyframes cardHide {
  to { opacity: 0; transform: scale(0.94) translateY(-15px); }
}
.p-card:hover {
  background: var(--bg-card-hover);
  border-color: var(--border-hover);
  box-shadow: var(--shadow-lg);
  transform: translateY(-6px) !important;
}

/* Card color strip */
.card-strip {
  height: 3px;
  width: 100%;
}

/* Card visual */
.card-visual {
  position: relative;
  width: 100%;
  height: 180px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}
.card-visual canvas {
  position: absolute; inset: 0;
  width: 100%; height: 100%;
}
.card-img {
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  z-index: 1;
  transition: transform 0.5s cubic-bezier(0.4,0,0.2,1), opacity 0.3s;
}
.card-img.img-error { display: none; }
.p-card:hover .card-img { transform: scale(1.06); }
.card-icon-wrap {
  position: relative; z-index: 2;
  width: 60px; height: 60px;
  border-radius: 16px;
  display: flex; align-items: center; justify-content: center;
  font-size: 26px; color: #fff;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.15);
  transition: transform 0.3s ease, opacity 0.3s ease;
}
/* Hide icon when image is loaded */
.card-visual.has-img .card-icon-wrap { opacity: 0; }
.p-card:hover .card-icon-wrap { transform: scale(1.1) rotate(3deg); }

/* Card body */
.card-body {
  padding: 18px 20px 12px;
}
.card-cat-label {
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  letter-spacing: 3px;
  text-transform: uppercase;
  margin-bottom: 6px;
}
.card-name {
  font-family: 'Unbounded', sans-serif;
  font-size: 1.05rem;
  font-weight: 700;
  margin-bottom: 4px;
  display: flex;
  align-items: center;
  gap: 6px;
}
.star-badge {
  color: #fbbf24;
  font-size: 14px;
  animation: starPop 2s ease-in-out infinite;
}
@keyframes starPop {
  0%, 100% { opacity: 1; transform: scale(1) rotate(0deg); }
  50% { opacity: 0.5; transform: scale(1.3) rotate(15deg); }
}
.card-cat-text {
  font-size: 0.82rem;
  color: var(--text-muted);
}

/* Card action */
.card-action {
  padding: 12px 20px 18px;
}
.card-link {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100%;
  padding: 12px 0;
  border-radius: 14px;
  font-family: 'Outfit', sans-serif;
  font-size: 13px;
  font-weight: 600;
  text-decoration: none;
  color: #fff;
  letter-spacing: 0.5px;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}
.card-link::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
  transform: translateX(-100%);
  transition: transform 0.5s ease;
}
.card-link:hover::before { transform: translateX(100%); }
.card-link:hover { filter: brightness(1.15); transform: scale(1.02); }

/* ===== EMPTY STATE ===== */
.empty-box {
  text-align: center;
  padding: 80px 20px;
  grid-column: 1 / -1;
}
.empty-box .empty-icon {
  font-size: 3.5rem;
  opacity: 0.2;
  margin-bottom: 16px;
}
.empty-box h3 {
  font-family: 'Unbounded', sans-serif;
  font-size: 1.1rem;
  color: var(--text-secondary);
}
.empty-box p {
  color: var(--text-muted);
  font-size: 0.85rem;
  margin-top: 6px;
}

/* ===== FOOTER ===== */
.site-footer {
  text-align: center;
  padding: 40px 20px 30px;
  border-top: 1px solid var(--border);
}
.footer-line {
  width: 50px; height: 2px;
  background: linear-gradient(90deg, #a78bfa, #00ffa3);
  margin: 0 auto 14px;
  border-radius: 2px;
}
.footer-text {
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  color: var(--text-muted);
  letter-spacing: 2px;
  text-transform: uppercase;
}
.footer-heart { color: #ff6b9d; }

/* ===== ANIMATIONS UTILITY ===== */
.fade-up {
  opacity: 0;
  transform: translateY(24px);
  animation: fadeSlideUp 0.7s ease forwards;
}
@keyframes fadeSlideUp {
  to { opacity: 1; transform: translateY(0); }
}

/* ===== RESPONSIVE ===== */
@media (max-width: 480px) {
  .hero-section { padding: 36px 16px 16px; }
  .stats-bar { gap: 24px; }
  .card-body { padding: 14px 16px 10px; }
  .card-action { padding: 10px 16px 16px; }
  .filter-pill { padding: 8px 16px; font-size: 13px; }
}
</style>
</head>
<body>

<!-- ===== LOADER ===== -->
<div class="loader-wrap" id="loaderWrap">
  <div class="loader-brand">
    SK KHORRUM
    <span class="glitch" aria-hidden="true">SK KHORRUM</span>
    <span class="glitch glitch2" aria-hidden="true">SK KHORRUM</span>
  </div>
  <div class="loader-dots">
    <div class="loader-dot"></div>
    <div class="loader-dot"></div>
    <div class="loader-dot"></div>
    <div class="loader-dot"></div>
  </div>
  <div class="loader-sub">Initializing Vault...</div>
</div>

<!-- ===== BACKGROUND ===== -->
<div class="bg-cosmos">
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
  <div class="orb orb-3"></div>
</div>
<div class="bg-grid"></div>
<div class="noise-layer"></div>

<!-- ===== HEADER ===== -->
<header class="site-header">
  <div style="max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;">
    <div class="logo">Project <span class="logo-accent">Vault</span></div>
    <button class="theme-btn" id="themeToggle" aria-label="Toggle theme">
      <i class="ri-sun-line" id="themeIcon"></i>
    </button>
  </div>
</header>

<!-- ===== MAIN ===== -->
<main id="mainContent" style="position:relative;z-index:1;opacity:0;transition:opacity 0.6s ease 0.2s;">

  <!-- Hero -->
  <section class="hero-section">
    <div class="hero-tag fade-up" style="animation-delay:0.1s;">
      <span class="pulse-dot"></span> Premium Edition
    </div>
    <h1 class="hero-title fade-up" style="animation-delay:0.2s;">
      <span class="hero-gradient">Sk Khorrum</span><br>Project Hub
    </h1>
    <p class="hero-sub fade-up" style="animation-delay:0.35s;">
      Team DRT — Secure Apps, Entertainment, and Tools এর একটি কিউরেটেড কালেকশন।
    </p>
    <div class="stats-bar fade-up" style="animation-delay:0.5s;" id="statsBar"></div>
  </section>

  <!-- Filters -->
  <div class="filter-wrap fade-up" style="animation-delay:0.6s;">
    <div class="filter-scroll" id="filterScroll"></div>
  </div>

  <!-- Grid -->
  <div class="project-grid" id="projectGrid"></div>

</main>

<!-- ===== FOOTER ===== -->
<footer class="site-footer" id="siteFooter" style="position:relative;z-index:1;opacity:0;transition:opacity 0.6s ease 0.4s;">
  <div class="footer-line"></div>
  <div class="footer-text">Sk Khorrum / Team DRT <span class="footer-heart">&hearts;</span> &copy; 2026</div>
</footer>

<script>
/* ===== THEME DETECTION ===== */
(function() {
  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    document.documentElement.classList.add('dark');
  }
  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
    if (e.matches) {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }
    updateThemeIcon();
  });
})();

/* ===== THEME TOGGLE ===== */
var themeToggle = document.getElementById('themeToggle');
var themeIconEl = document.getElementById('themeIcon');

function updateThemeIcon() {
  var isDark = document.documentElement.classList.contains('dark');
  themeIconEl.className = isDark ? 'ri-sun-line' : 'ri-moon-line';
}

themeToggle.addEventListener('click', function() {
  document.documentElement.classList.toggle('dark');
  updateThemeIcon();
});
updateThemeIcon();

/* ===== PROJECT DATA ===== */
var BASE_IMG = "https://skkhorrumproject.vercel.app/Ass/home/";
var PROJECTS = [
  {
    id: 1, title: "Secure File", cat: "security", starred: true,
    icon: "ri-shield-keyhole-fill", color: "#00ffa3",
    img: BASE_IMG + "Screenshot_2025_0628_184058.png",
    link: "https://dark-access-bot444.vercel.app/",
    btnText: "Open Lab", btnIcon: "ri-flask-fill"
  },
  {
    id: 2, title: "Flow Eight Sigma", cat: "security", starred: true,
    icon: "ri-flow-chart", color: "#00ffa3",
    img: BASE_IMG + "file_00000000b90c622f8b3c4feb5045cafe.png",
    link: "https://flow-eight-sigma.vercel.app/index.html",
    btnText: "Open Lab", btnIcon: "ri-flask-fill"
  },
  {
    id: 3, title: "Khela Dakhbo", cat: "entertainment", starred: true,
    icon: "ri-play-circle-fill", color: "#ff6b9d",
    img: BASE_IMG + "Screenshot_2025_0710_075636.png",
    link: "https://khela-dakhbo.vercel.app/",
    btnText: "Watch Now", btnIcon: "ri-play-fill"
  },
  {
    id: 4, title: "Proposed Web", cat: "entertainment", starred: false,
    icon: "ri-global-fill", color: "#ff6b9d",
    img: BASE_IMG + "Screenshot_2025_1003_164820.png",
    link: "https://obakchowdhory.vercel.app/",
    btnText: "Open Site", btnIcon: "ri-external-link-fill"
  },
  {
    id: 5, title: "FB Downloader", cat: "tools", starred: true,
    icon: "ri-download-cloud-2-fill", color: "#00c2ff",
    img: BASE_IMG + "file_00000000a51861f992c3fb6479cf025b.png",
    link: "https://drt-downloader.vercel.app/",
    btnText: "Download", btnIcon: "ri-download-2-fill"
  },
  {
    id: 6, title: "Age Calculator", cat: "tools", starred: true,
    icon: "ri-calculator-fill", color: "#00c2ff",
    img: BASE_IMG + "Screenshot_2025_0514_205908.png",
    link: "https://skkhorrumproject.vercel.app/page/age.html",
    btnText: "Calculate", btnIcon: "ri-add-circle-fill"
  },
  {
    id: 7, title: "E NOTE", cat: "tools", starred: true,
    icon: "ri-sticky-note-fill", color: "#00c2ff",
    img: BASE_IMG + "file_0000000083c861f48d0390134a2ad31a.png",
    link: "https://enote-gamma.vercel.app/",
    btnText: "Write Now", btnIcon: "ri-edit-fill"
  },
  {
    id: 8, title: "Click Chat PRO", cat: "tools", starred: true,
    icon: "ri-chat-3-fill", color: "#00c2ff",
    img: BASE_IMG + "clicktochat.png",
    link: "https://click-to-chat-pro.vercel.app/",
    btnText: "Chat Now", btnIcon: "ri-message-3-fill"
  },
  {
    id: 9, title: "Weather Now", cat: "tools", starred: true,
    icon: "ri-sun-cloudy-fill", color: "#00c2ff",
    img: BASE_IMG + "weathernaw.png",
    link: "https://skkhorrumproject.vercel.app/page/Weather.html",
    btnText: "Check", btnIcon: "ri-search-fill"
  },
  {
    id: 10, title: "YourDaraz", cat: "demo", starred: false,
    icon: "ri-shopping-bag-3-fill", color: "#ffaa40",
    img: BASE_IMG + "Screenshot_2025_0629_193122.png",
    link: "https://skkhorrumproject.vercel.app/page/e-commerce.html",
    btnText: "Visit Shop", btnIcon: "ri-store-2-fill"
  },
  {
    id: 11, title: "AI Photo Maker", cat: "demo", starred: false,
    icon: "ri-ai-generate", color: "#ffaa40",
    img: BASE_IMG + "file_00000000d6b8622f95abb86015d11566.png",
    link: "https://text-to-images-by-sk-khorrum.vercel.app/",
    btnText: "Create AI", btnIcon: "ri-magic-fill"
  },
  {
    id: 12, title: "Facebook Clone", cat: "demo", starred: false,
    icon: "ri-layout-4-fill", color: "#ffaa40",
    img: BASE_IMG + "Screenshot_2025_0514_154111.png",
    link: "#",
    btnText: "View UI", btnIcon: "ri-eye-fill"
  }
];

var CATEGORIES = [
  { key: "all", label: "All", icon: "ri-apps-2-fill" },
  { key: "security", label: "Security & Hacking Lab", icon: "ri-shield-flash-fill" },
  { key: "entertainment", label: "Entertainment", icon: "ri-movie-2-fill" },
  { key: "tools", label: "Tools", icon: "ri-tools-fill" },
  { key: "demo", label: "Demo Site", icon: "ri-layout-grid-fill" }
];

var CAT_COLORS = {
  security: "#00ffa3",
  entertainment: "#ff6b9d",
  tools: "#00c2ff",
  demo: "#ffaa40"
};

var CAT_LABELS = {
  security: "Security & Hacking Lab",
  entertainment: "Entertainment",
  tools: "Tools",
  demo: "Demo Site"
};

var activeCat = "all";

/* ===== READ CATEGORY FROM URL HASH ===== */
function getCatFromHash() {
  try {
    var hash = window.location.hash.replace('#', '').toLowerCase();
    var valid = CATEGORIES.some(function(c) { return c.key === hash; });
    return valid ? hash : 'all';
  } catch(e) {
    return 'all';
  }
}
activeCat = getCatFromHash();

/* Listen for hash changes (back/forward navigation) */
window.addEventListener('hashchange', function() {
  var newCat = getCatFromHash();
  if (newCat !== activeCat) {
    activeCat = newCat;
    renderFilters();
    renderProjects();
  }
});

/* ===== LOADER ===== */
setTimeout(function() {
  document.getElementById('loaderWrap').classList.add('done');
  document.getElementById('mainContent').style.opacity = '1';
  document.getElementById('siteFooter').style.opacity = '1';
}, 3000);

/* ===== STATS ===== */
function renderStats() {
  var total = PROJECTS.length;
  var starred = PROJECTS.filter(function(p) { return p.starred; }).length;
  var cats = CATEGORIES.length - 1;
  var data = [
    { val: total, lbl: "Projects" },
    { val: starred, lbl: "Featured" },
    { val: cats, lbl: "Categories" }
  ];
  document.getElementById('statsBar').innerHTML = data.map(function(s) {
    return '<div class="stat-block"><div class="stat-val">' + s.val + '</div><div class="stat-lbl">' + s.lbl + '</div></div>';
  }).join('');
}

/* ===== FILTERS ===== */
function renderFilters() {
  var scroll = document.getElementById('filterScroll');
  scroll.innerHTML = CATEGORIES.map(function(c) {
    var count = c.key === 'all' ? PROJECTS.length : PROJECTS.filter(function(p) { return p.cat === c.key; }).length;
    var isActive = c.key === activeCat ? ' active' : '';
    return '<button class="filter-pill' + isActive + '" data-cat="' + c.key + '">' +
      '<i class="' + c.icon + '" style="margin-right:6px;font-size:15px;"></i>' +
      c.label + '<span class="pill-count">' + count + '</span></button>';
  }).join('');

  scroll.querySelectorAll('.filter-pill').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var cat = this.getAttribute('data-cat');
      if (cat === activeCat) return;
      activeCat = cat;
      /* Update URL hash for shareable link */
      try { window.location.hash = cat; } catch(e) { /* iframe may restrict */ }
      renderFilters();
      renderProjects();
    });
  });
}

/* ===== CANVAS PATTERNS ===== */
function drawPattern(canvas, color, seed, catKey) {
  var ctx = canvas.getContext('2d');
  var dpr = 2;
  var w = canvas.offsetWidth * dpr;
  var h = canvas.offsetHeight * dpr;
  canvas.width = w; canvas.height = h;
  ctx.scale(dpr, dpr);
  var cw = w / dpr; var ch = h / dpr;

  function rand() {
    seed = (seed * 16807 + 12345) % 2147483647;
    return (seed & 0x7fffffff) / 2147483647;
  }

  // Base gradient
  var g = ctx.createLinearGradient(0, 0, cw, ch);
  g.addColorStop(0, color + '18');
  g.addColorStop(1, color + '06');
  ctx.fillStyle = g;
  ctx.fillRect(0, 0, cw, ch);

  ctx.globalAlpha = 0.08;
  ctx.strokeStyle = color;
  ctx.fillStyle = color;

  if (catKey === 'security') {
    // Matrix-style falling lines
    ctx.lineWidth = 1;
    for (var i = 0; i < 25; i++) {
      var x = rand() * cw;
      var y1 = rand() * ch * 0.3;
      var y2 = y1 + rand() * ch * 0.7;
      ctx.beginPath();
      ctx.moveTo(x, y1);
      ctx.lineTo(x, y2);
      ctx.stroke();
      // dots along line
      for (var d = y1; d < y2; d += 8 + rand() * 12) {
        ctx.globalAlpha = 0.04 + rand() * 0.08;
        ctx.beginPath();
        ctx.arc(x, d, 1.5, 0, Math.PI * 2);
        ctx.fill();
      }
    }
  } else if (catKey === 'entertainment') {
    // Flowing waves
    ctx.lineWidth = 1.5;
    for (var w2 = 0; w2 < 6; w2++) {
      ctx.globalAlpha = 0.04 + w2 * 0.01;
      ctx.beginPath();
      var yBase = 20 + w2 * 25;
      for (var x2 = 0; x2 <= cw; x2 += 2) {
        var y3 = yBase + Math.sin(x2 * 0.03 + w2 * 1.2) * 18 + Math.cos(x2 * 0.015 + w2) * 12;
        if (x2 === 0) ctx.moveTo(x2, y3);
        else ctx.lineTo(x2, y3);
      }
      ctx.stroke();
    }
  } else if (catKey === 'tools') {
    // Circuit board pattern
    ctx.lineWidth = 1;
    for (var t = 0; t < 18; t++) {
      ctx.globalAlpha = 0.05 + rand() * 0.06;
      var sx = rand() * cw;
      var sy = rand() * ch;
      ctx.beginPath();
      ctx.moveTo(sx, sy);
      var steps = 3 + Math.floor(rand() * 4);
      for (var s = 0; s < steps; s++) {
        var dir = Math.floor(rand() * 2);
        var len = 15 + rand() * 40;
        if (dir === 0) sx += (rand() > 0.5 ? len : -len);
        else sy += (rand() > 0.5 ? len : -len);
        sx = Math.max(0, Math.min(cw, sx));
        sy = Math.max(0, Math.min(ch, sy));
        ctx.lineTo(sx, sy);
      }
      ctx.stroke();
      // Node dot at end
      ctx.beginPath();
      ctx.arc(sx, sy, 3, 0, Math.PI * 2);
      ctx.fill();
    }
  } else {
    // Geometric mesh for demo
    ctx.lineWidth = 0.8;
    var pts = [];
    for (var m = 0; m < 20; m++) {
      pts.push({ x: rand() * cw, y: rand() * ch });
    }
    for (var a = 0; a < pts.length; a++) {
      for (var b = a + 1; b < pts.length; b++) {
        var dist = Math.hypot(pts[a].x - pts[b].x, pts[a].y - pts[b].y);
        if (dist < 90) {
          ctx.globalAlpha = 0.03 + (1 - dist / 90) * 0.06;
          ctx.beginPath();
          ctx.moveTo(pts[a].x, pts[a].y);
          ctx.lineTo(pts[b].x, pts[b].y);
          ctx.stroke();
        }
      }
    }
    pts.forEach(function(pt) {
      ctx.globalAlpha = 0.08;
      ctx.beginPath();
      ctx.arc(pt.x, pt.y, 2, 0, Math.PI * 2);
      ctx.fill();
    });
  }

  // Subtle dot grid overlay
  ctx.globalAlpha = 0.025;
  ctx.fillStyle = color;
  for (var gx = 0; gx < cw; gx += 18) {
    for (var gy = 0; gy < ch; gy += 18) {
      ctx.beginPath();
      ctx.arc(gx, gy, 0.8, 0, Math.PI * 2);
      ctx.fill();
    }
  }
}

/* ===== RENDER PROJECTS ===== */
function renderProjects() {
  var grid = document.getElementById('projectGrid');
  var filtered = activeCat === 'all' ? PROJECTS : PROJECTS.filter(function(p) { return p.cat === activeCat; });

  if (filtered.length === 0) {
    grid.innerHTML = '<div class="empty-box"><div class="empty-icon"><i class="ri-folder-open-fill"></i></div>' +
      '<h3>কোনো প্রজেক্ট নেই</h3><p>এই ক্যাটেগরিতে এখনও কিছু নেই।</p></div>';
    return;
  }

  grid.innerHTML = filtered.map(function(p, idx) {
    var catColor = CAT_COLORS[p.cat] || '#a78bfa';
    var catLabel = CAT_LABELS[p.cat] || p.cat;
    var starHtml = p.starred ? '<i class="ri-star-fill star-badge"></i>' : '';
    var delay = idx * 0.07;

    return '<div class="p-card" style="animation-delay:' + delay + 's;" data-id="' + p.id + '">' +
      '<div class="card-strip" style="background:linear-gradient(90deg,' + catColor + ',' + catColor + '40,transparent);"></div>' +
      '<div class="card-visual">' +
        '<canvas class="cv" data-color="' + catColor + '" data-seed="' + (p.id * 257) + '" data-cat="' + p.cat + '"></canvas>' +
        (p.img ? '<img src="' + p.img + '" alt="' + p.title + '" class="card-img" onload="this.parentElement.classList.add(\'has-img\')" onerror="this.classList.add(\'img-error\')">' : '') +
        '<div class="card-icon-wrap" style="background:' + catColor + '30;">' +
          '<i class="' + p.icon + '" style="color:' + catColor + ';"></i>' +
        '</div>' +
      '</div>' +
      '<div class="card-body">' +
        '<div class="card-cat-label" style="color:' + catColor + ';">' + catLabel + '</div>' +
        '<div class="card-name">' + p.title + ' ' + starHtml + '</div>' +
      '</div>' +
      '<div class="card-action">' +
        '<a href="' + p.link + '" target="_blank" rel="noopener noreferrer" class="card-link" style="background:linear-gradient(135deg,' + catColor + ',' + catColor + 'cc);">' +
          '<i class="' + p.btnIcon + '"></i> ' + p.btnText +
        '</a>' +
      '</div>' +
    '</div>';
  }).join('');

  // Draw canvases
  grid.querySelectorAll('.cv').forEach(function(c) {
    drawPattern(c, c.getAttribute('data-color'), parseInt(c.getAttribute('data-seed')), c.getAttribute('data-cat'));
  });

  // Animate cards in
  requestAnimationFrame(function() {
    grid.querySelectorAll('.p-card').forEach(function(card) {
      card.classList.add('visible');
    });
  });
}

/* ===== INIT ===== */
renderStats();
renderFilters();
renderProjects();
</script>
</body>
</html>
